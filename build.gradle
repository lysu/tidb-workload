/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */


//--------------------------------- Based setting  for current project ---------------------------------

buildscript {
    repositories {
        jcenter()
    }
    configurations.all {
        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'
    }
    

}

// Definition all property

apply plugin: 'idea'
apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'war'
apply plugin: 'eclipse'

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

repositories {
    mavenLocal()
    jcenter()
}

tasks.withType(Test) {
    if (project.hasProperty("parallelForks")) {
        maxParallelForks = parallelForks as Integer
    }

    if (project.hasProperty("forkEveryTest")) {
        forkEvery = forkEveryTest as Integer
    }
}



//--------------------------------- Dependencies definition ---------------------------------
dependencies {
    compile(
            "commons-cli:commons-cli:1.2",
            "org.json:json:20070829",
            "mysql:mysql-connector-java:8.0.15",
            "org.apache.commons:commons-dbcp2:2.4.0"
    )

    // All the package definition that need to ignore.
    configurations {
    }
}

task fatJar(type: Jar) {
//    manifest {
//        attributes 'Implementation-Title': 'Gradle Jar File Example',
//                'Implementation-Version': version,
//                'Main-Class': 'com.pingcap.tidb.workload.Main'
//    }
    baseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}




